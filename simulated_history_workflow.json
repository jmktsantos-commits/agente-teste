{
    "name": "Simulated Aviator History",
    "nodes": [
        {
            "parameters": {
                "rule": {
                    "interval": [
                        {
                            "field": "seconds",
                            "seconds": 30
                        }
                    ]
                }
            },
            "id": "schedule-trigger",
            "name": "Schedule Trigger",
            "type": "n8n-nodes-base.scheduleTrigger",
            "typeVersion": 1.2,
            "position": [
                460,
                340
            ]
        },
        {
            "parameters": {
                "jsCode": "// Probabilidade: 45% de ser vela baixa (< 2.00x)\nconst isLow = Math.random() < 0.45;\nlet multiplier;\n\nif (isLow) {\n  // Gera entre 1.00x e 1.99x\n  multiplier = (Math.random() * (1.99 - 1.00) + 1.00).toFixed(2);\n} else {\n  // Gera entre 2.00x e 50.00x (Vela Alta)\n  multiplier = (Math.random() * (50.00 - 2.00) + 2.00).toFixed(2);\n}\n\nreturn [{\n  json: {\n    multiplier: parseFloat(multiplier),\n    platform: 'simulated',\n    round_time: new Date().toISOString()\n  }\n}];"
            },
            "id": "code-node",
            "name": "Gerar Multiplicador",
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                680,
                340
            ]
        },
        {
            "parameters": {
                "table": "crash_history",
                "columns": "multiplier, platform, round_time",
                "operation": "insert"
            },
            "id": "supabase-node",
            "name": "Salvar no Banco",
            "type": "n8n-nodes-base.supabase",
            "typeVersion": 1,
            "position": [
                900,
                340
            ],
            "credentials": {
                "supabaseApi": {
                    "id": "YOUR_CREDENTIAL_ID_HERE",
                    "name": "Supabase account"
                }
            }
        }
    ],
    "connections": {
        "Schedule Trigger": {
            "main": [
                [
                    {
                        "node": "Gerar Multiplicador",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Gerar Multiplicador": {
            "main": [
                [
                    {
                        "node": "Salvar no Banco",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        }
    }
}